<!DOCTYPE html>
<html>
<head>
  <title>Spring Boot</title>
  <link rel="stylesheet" type="text/css" href="/spring-boot/bootstrap/css/bootstrap.min.css" />
  <link href='http://fonts.googleapis.com/css?family=Varela+Round|Montserrat:400,700' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" type="text/css" href="/spring-boot/font-awesome/css/font-awesome.min.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/bootstrap/css/bootstrap-select.css" />

  <link rel="stylesheet" type="text/css" href="/spring-boot/css/main.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/typography.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/icons.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/projects.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/buttons.css.css" />
  <link rel="stylesheet" type="text/css" href="/spring-boot/css/guide.css.css" />

  <script type="text/javascript" src="/spring-boot/js/jquery.js"></script>
  <script type="text/javascript" src="/spring-boot/bootstrap/js/bootstrap.min.js"></script>
  <script type="text/javascript" src="/spring-boot/bootstrap/js/bootstrap-select.js"></script>

  <script type="text/javascript" src="/spring-boot/js/underscore.js"></script>
  <script type="text/javascript" src="/spring-boot/js/backbone.js"></script>
  <script type="text/javascript" src="/spring-boot/js/projectDocumentationWidget.js"></script>
  <script type="text/javascript" src="/spring-boot/js/application.js"></script>
  <script type="text/javascript" src="/spring-boot/js/ZeroClipboard.min.js"></script>
  <script type="text/javascript">
    var apiBaseUrl = "http://springframework.io";
    var projectId = "spring-boot";
    var siteBaseUrl = "/spring-boot";
  </script>
  <script type="text/javascript" src="/spring-boot/js/copySnippets.js"></script>
  <meta name="google-site-verification" content="7qGntFPD9lWAVCtUu5U77v4l68PsTHf6xpzgjQv2j2M" />
</head>
<body>
  <header class="navbar header--navbar">
    <div class="navbar-inner">
      <div class="container-fluid">
        <div class="spring-logo--container">
          <div class="logo-bg"></div>
          <a class="spring-logo" href="http://springframework.io"></a>
        </div>
        <ul class="nav pull-right">
          <li class="navbar-link">
            <a href="http://springframework.io/docs">Docs</a>
          </li>
          <li class="navbar-link">
            <a href="http://springframework.io/guides">Guides</a>
          </li>
          <li class="navbar-link active">
            <a href="http://springframework.io/projects">Projects</a>
          </li>
          <li class="navbar-link">
            <a href="http://springframework.io/blog">Blog</a>
          </li>
          <li class="navbar-link">
            <a href="http://forum.springframework.io">Forum</a>
          </li>
          <li class="navbar-link nav-search">
            <i class="icon-search navbar-search--icon js-search-input-open"></i>
            <div class="search-input-close js-search-input-close">x</div>
          </li>
        </ul>
      </div>
    </div>
    <div class="search-dropdown--container js-search-dropdown">
      <div class="container-fluid">
        <div class="search-form--container">
          <form class="form-inline form-search" action="http://springframework.io/search" method="get">
            <input type="text" class="search-query search-form--form js-search-input" placeholder="Search for documention, guides, and posts..." name="q" />
            <button type="submit" class="search-form--submit"><i class="icon-search"></i></button>
          </form>
        </div>
      </div>
    </div>
  </header>

  <div class="body--container container-fluid">
    <h1 id="toc_0">Spring Boot - AutoConfigure</h1>

<p>Spring Boot AutoConfiguration attempts to automatically configure your Spring application
based on the dependencies that it declares.  For example, If <code>HSQLDB</code> is on your
classpath, and you have not manually configured any database connection beans, then we
will auto-configure an in-memory database.</p>

<h2 id="toc_1">Enabling auto-configuration</h2>

<p>Add an <code>@EnableAutoConfiguration</code> annotation to your primary <code>@Configration</code> class to
enable auto-configuration:</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.*</span><span class="o">;</span>

<span class="nd">@Configuration</span>
<span class="nd">@EnableAutoConfiguration</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfiguration</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>
<p>Currently auto-configuration is provided for the following types of application:</p>

<ul>
<li>Web (Tomcat or Jetty, Spring MVC)</li>
<li>JDBC (Commons DBCP, embedded databases, jdbcTemplate)</li>
<li>JPA with Hibernate</li>
<li>Spring Data JPA (automatically detecting <code>Repository</code> classes)</li>
<li>Spring Batch (including <code>JobLauncherCommandLineRunner</code>s and database initialization)</li>
<li>Thymeleaf templating</li>
<li>Reactor asynchronous JVM programming</li>
</ul>

<h3 id="toc_2">Understanding auto-configured beans</h3>

<p>Under the hood, auto-configuration is implemented with standard <code>@Configuration</code> classes.
Additional <code>@Conditional</code> annotations are used to constrain when the auto-configuration
should apply. Usually auto-configuration classes use <code>@ConditionalOnClass</code> and
<code>@ConditionalOnMissingBean</code> annotations. This ensures that auto-configuration only
applies when relevant classes are found and when you have not declared your own
<code>@Configuration</code>.</p>

<p>You can browse the source code of <code>spring-boot-autoconfigure</code> to see the <code>@Configuration</code>
classes that we provide (see the <code>META-INF/spring.factories</code> file).</p>

<blockquote>
<p><strong>Note:</strong> If you are using <code>org.springframework.boot.SpringApplication</code>, you can see
which <code>@Conditions</code> were not applied by starting your application with the <code>--debug</code>
option.</p>
</blockquote>

<h3 id="toc_3">Disabling specific auto-configuration</h3>

<p>All auto-configuration that we provide attempts to back away as you start to define your
own beans. If, however, you find that specific auto-configure classes are being applied
that you don&#39;t want you can use the <code>exclude</code> attribute of <code>@EnableAutoConfiguration</code>
to disable them.</p>
<div class="highlight"><pre><code class="java language-java" data-lang="java"><span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.boot.autoconfigure.jdbc.*</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.context.annotation.*</span><span class="o">;</span>

<span class="nd">@Configuration</span>
<span class="nd">@EnableAutoConfiguration</span><span class="o">(</span><span class="n">exclude</span><span class="o">={</span><span class="n">EmbeddedDatabaseConfiguration</span><span class="o">.</span><span class="na">class</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MyConfiguration</span> <span class="o">{</span>
<span class="o">}</span>
</code></pre></div>
<h2 id="toc_4">Condition annotations</h2>

<p>Spring Boot Auto-Configure includes a number of <code>@Conditional</code> annotations that are used
limit when auto-configure is applied. You can reuse these in your own code by annotating
<code>@Configuration</code> classes or individual <code>@Bean</code> methods.</p>

<h3 id="toc_5">Class conditions</h3>

<p>The <code>ConditionalOnClass</code> and <code>ConditionalOnMissingClass</code> annotations allow configuration
to be skipped based on the presence or absence of specific classes. Due to the fact that
annotation meta-data is parsed using ASM you can actually use the <code>value</code> attribute to
refer to the real class, even though that class might not actually appear in the running
application classpath. You can also use the <code>name</code> attribute if you prefer to specify
the class name using a <code>String</code> value.</p>

<h3 id="toc_6">Bean conditions</h3>

<p>The <code>@ConditionalOnBean</code> and <code>@ConditionalOnMissingBean</code> annotations allow configuration
to be skipped based on the presence or absence of specific beans. You can use the <code>value</code>
attribute to specify beans by type, or <code>name</code> to specify beans by name. The <code>search</code>
attribute allows you to limit the <code>ApplicationContext</code> hierarchy that should be considered
when searching for beans.</p>

<blockquote>
<p><strong>Note:</strong> <code>@Conditional</code> annotations are processed when <code>@Configuration</code> classes are
parsed. Auto-configure <code>@Configuration</code> is always parsed last (after any user defined
beans), however, if you are using these annotations on regular <code>@Configuration</code> classes,
care must be take not to refer to bean definitions that have not yet been created.</p>
</blockquote>

<h3 id="toc_7">Resource conditions</h3>

<p>The <code>@ConditionalOnResource</code> annotation allows configuration to be skipped when a specific
resource is not present. Resources can be specified using the usual Spring conventions,
for example, <code>file:C:/test.dat</code>.</p>

<h3 id="toc_8">Web Application Conditions</h3>

<p>The <code>@ConditionalOnWebApplication</code> and <code>@ConditionalOnNotWebApplication</code> annotations
allow configuration to be skipped depending on whether the application is a
&#39;web application&#39;. A web application is any application that is using a Spring
<code>WebApplicationContext</code>, defines a <code>session</code> scope or has a <code>StandardServletEnvironment</code>.</p>

<h3 id="toc_9">SpEL expression conditions</h3>

<p>The <code>@ConditionalOnExpression</code> annotation allows configuration to be skipped based on the
result of a SpEL expression.</p>

<h2 id="toc_10">Writing additional auto-configuration</h2>

<p>You can easily add auto-configuration to your own libraries, simply create a regular
<code>@Configuration</code> class and annotate it with appropriate <code>@Conditional</code> restrictions.</p>

<p>Spring Boot checks for presence of a <code>META-INF/spring.factories</code> file within your
published jar. The file should list your configuration classes under the
<code>org.springframework.boot.autoconfigure.EnableAutoConfiguration</code> key.</p>
<div class="highlight"><pre><code class="text language-text" data-lang="text">org.springframework.boot.autoconfigure.EnableAutoConfiguration=\
com.mycorp.libx.autoconfigure.LibXAutoConfiguration,\
com.mycorp.libx.autoconfigure.LibXWebAutoConfiguration
</code></pre></div>
<p>You can use the <code>@AutoConfigureAfter</code> or <code>@AutoConfigureBefore</code> annotations if your
configuration needs to be applied in a specific order. For example, if you provide
web specific configuration you may need to be applied after <code>WebMvcAutoConfiguration</code>.</p>

<h1 id="toc_11">Further reading</h1>

<p>For more information about any of the classes or interfaces discussed in the document
please refer to the extensive project Javadoc. If you are just starting out with Spring
Boot take a look at the <a href="../README.html">getting started</a> guide.</p>

  </div>

  <footer class="footer">
    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span8">
          <div class="navbar">
            <div class="container">
              <ul class="nav">
                <li><a href="http://springframework.io/tools">Tools</a></li>
                <li><a href="http://springframework.io/services">Services</a></li>
                <li><a href="http://springframework.io/about">About Us</a></li>
                <li><a href="http://springframework.io/jobs">Work With Us</a></li>
              </ul>
            </div>
          </div>
          &copy; <script type="text/javascript"> var d = new Date();
                document.write(d.getFullYear());</script> GoPivotal, Inc. All Rights Reserved.
          <a href="http://www.gopivotal.com/terms-of-use">Terms</a>,
          <a href="http://www.gopivotal.com/privacy-policy">Privacy</a>, and
          <a href="http://springframework.io/logos">Usage</a>
        </div>
        <div class="span4 footer-newsletter--wrapper pull-right">
          <div class="footer-newsletter--container">
            <form>
              <label>
                Subscribe to our newsletter
              </label>
              <div class="footer-subscribe--input--container">
                <input class="footer-subscribe--input" placeholder="Email Address (NOT REAL)" />
                <input type="submit" class="btn footer-subscibe--btn" value="Subscribe" />
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </footer>
  <div id="scrim"></div>
  <script type="text/html" id="project-documentation-widget-template">
    <div class="right-pane-widget--container no-top-border project-documentation--container">
        <div class="item-dropdown-widget">
            <div class="item-dropdown--title">{@= name @}</div>
            <div class="item--dropdown">
                <div class="item--body">
                    <div class="item--body-title">
                        <div class="item--left-column">Release</div>
                        <div class="item--right-column">Documentation</div>
                    </div>
                    {@ _.each(releases, function(release) { @}
                    <div class="item--body--version">
                        <div class="item--left-column">
                            <p>{@= release.version @}</p>
                            <div class="spring-icon {@= release.statusIconClass() @}"></div>
                        </div>
                        <div class="item--right-column">
                            <a href='{@= release.refDocUrl @}' class="docs-link reference-link">Reference</a>
                            <a href='{@= release.apiDocUrl @}' class="docs-link api-link">API</a>
                        </div>
                    </div>
                    {@ }); @}
                </div>
            </div>
        </div>
    </div>
</script>

<script type="text/html" id="project-download-widget-controls-template">
    <div class="js-download-widget-selector">
        <select class='selector selectpicker'>
            {@ _.each(releases, function(release, index) { @}
            <option value="{@= index @}" data-content="<span>{@= release.versionDisplayName @}</span><div class='spring-icon {@= release.statusIconClass() @}'/>" data-current="{@= release.current @}"> ()</option>
            {@ }); @}
        </select>
    </div>

    <div class="item-slider-widget js-item-slider--wrapper">
        <div class="item-slider--container">
            <div class="item--slider js-item--slider"></div>
            <div class="item js-active js-item" data-snippet-type='maven'>
                Maven
            </div>
            <div class="item js-item" data-snippet-type='gradle'>
                Gradle
            </div>
            <div class="item js-item" data-snippet-type='zip'>
                Zip
            </div>
        </div>
    </div>

</script>








<script type="text/html" id="project-download-maven-widget-template">
&lt;dependencies&gt;
    &lt;dependency&gt;
        &lt;groupId&gt;{@= groupId @}&lt;/groupId&gt;
        &lt;artifactId&gt;{@= artifactId @}&lt;/artifactId&gt;
        &lt;version&gt;{@= version @}&lt;/version&gt;
    &lt;/dependency&gt;
&lt;/dependencies&gt;
{@ if (repository) { @}
&lt;repositories&gt;
    &lt;repository&gt;
        &lt;id&gt;{@= repository.id @}&lt;/id&gt;
        &lt;name&gt;{@= repository.name @}&lt;/name&gt;
        &lt;url&gt;{@= repository.url @}&lt;/url&gt;
        &lt;snapshots&gt;
            &lt;enabled&gt;{@= repository.snapshotsEnabled @}&lt;/enabled&gt;
        &lt;/snapshots&gt;
    &lt;/repository&gt;
&lt;/repositories&gt;{@ } @}
</script>







<script type="text/html" id="project-download-gradle-widget-template">
dependencies {
    compile '{@= groupId @}:{@= artifactId @}:{@= version @}'
}
{@ if (repository) { @}
repositories {
    maven {
        url '{@= repository.url @}'
    }
}
{@ } @}
</script>

<script type="text/html" id="project-download-zip-widget-template">
This is a zip url
</script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-42447510-1', 'cfapps.io');
    ga('send', 'pageview');

  </script>
</body>
</html>
